<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>주문 조회</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    body { background-color:#e5e5e5; }
    .top-bar { background-color:#7be3a4; padding:8px 16px; }
    .section-box { background:#fff; border-radius:10px; border:1px solid #ddd; padding:20px; }
    .table thead th { background-color:#fbfbfb; font-weight:600; }
    .pagination-wrapper { display:flex; justify-content:center; width:100%; }
  </style>
</head>
<body class="p-3">

<div class="border border-secondary" style="max-width:1200px; margin:0 auto; background:#fff;">
  <div class="top-bar d-flex align-items-center">
    <div class="btn-group me-3">
      <button class="btn btn-light btn-sm">회사 로고</button>
      <button class="btn btn-secondary btn-sm">회사 명</button>
    </div>
    <ul class="nav">
      <li class="nav-item"><a class="nav-link fw-bold text-dark" href="#">매출 ▾</a></li>
      <li class="nav-item"><a class="nav-link text-dark" href="#">재고 ▾</a></li>
      <li class="nav-item"><a class="nav-link text-dark" href="#">메뉴 ▾</a></li>
      <li class="nav-item"><a class="nav-link text-dark" href="#">직영점</a></li>
    </ul>
    <div class="ms-auto d-flex align-items-center gap-2">
      <span>본사 홍길동</span>
      <button class="btn btn-outline-primary btn-sm">로그아웃</button>
    </div>
  </div>

  <div class="p-3">
    <div class="fs-3 fw-bold mb-3">주문 조회</div>
  </div>

  <div class="px-3 d-flex justify-content-end align-items-center gap-2 mb-2">
    <span class="fw-semibold">주문 일자</span>
    <input type="date" value="2025-10-01" class="form-control form-control-sm" style="width:150px;">
    <span class="fw-semibold ms-3">직영점</span>
    <input type="text" class="form-control form-control-sm" style="width:180px;">
    <button class="btn btn-warning btn-sm">검색</button>
    <button class="btn btn-outline-secondary btn-sm">초기화</button>
  </div>

  <div class="px-3 pb-3">
    <div class="section-box">
      <table class="table table-hover align-middle">
        <thead>
        <tr class="text-center">
          <th>주문 번호</th>
          <th>주문 일시</th>
          <th>직영점</th>
          <th>총 판매 메뉴</th>
          <th>총 판매 금액</th>
          <th></th>
        </tr>
        </thead>
        <tbody>

        <tr class='text-center'>
          <td>10</td>
          <td>2025-11-18 13:20:00</td>
          <td>금천구청점</td>
          <td>1개</td>
          <td>30,000원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(10)"></td>
        </tr>

        <tr class='text-center'>
          <td>9</td>
          <td>2025-11-18 13:21:00</td>
          <td>가산점</td>
          <td>2개</td>
          <td>32,500원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(9)"></td>
        </tr>

        <tr class='text-center'>
          <td>8</td>
          <td>2025-11-18 13:22:00</td>
          <td>독산점</td>
          <td>3개</td>
          <td>35,000원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(8)"></td>
        </tr>

        <tr class='text-center'>
          <td>7</td>
          <td>2025-11-18 13:23:00</td>
          <td>신도림점</td>
          <td>4개</td>
          <td>37,500원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(7)"></td>
        </tr>

        <tr class='text-center'>
          <td>6</td>
          <td>2025-11-18 13:24:00</td>
          <td>신길점</td>
          <td>5개</td>
          <td>40,000원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(6)"></td>
        </tr>

        <tr class='text-center'>
          <td>5</td>
          <td>2025-11-18 13:25:00</td>
          <td>수원점</td>
          <td>1개</td>
          <td>42,500원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(5)"></td>
        </tr>

        <tr class='text-center'>
          <td>4</td>
          <td>2025-11-18 13:26:00</td>
          <td>인천점</td>
          <td>2개</td>
          <td>45,000원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(4)"></td>
        </tr>

        <tr class='text-center'>
          <td>3</td>
          <td>2025-11-18 13:27:00</td>
          <td>광주점</td>
          <td>3개</td>
          <td>47,500원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(3)"></td>
        </tr>

        <tr class='text-center'>
          <td>2</td>
          <td>2025-11-18 13:28:00</td>
          <td>대구점</td>
          <td>4개</td>
          <td>50,000원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(2)"></td>
        </tr>

        <tr class='text-center'>
          <td>1</td>
          <td>2025-11-18 13:29:00</td>
          <td>부산점</td>
          <td>5개</td>
          <td>52,500원</td>
          <td><img src="/image/detail.png" style="width:24px; cursor:pointer;" onclick="openDetailModal(1)"></td>
        </tr>

        </tbody>
      </table>

      <div class="pagination-wrapper mb-3">
        <ul class="pagination pagination-sm">
          <li class="page-item disabled"><a class="page-link">&laquo;</a></li>
          <li class="page-item"><a class="page-link">&lt;</a></li>
          <li class="page-item active"><a class="page-link">1</a></li>
          <li class="page-item"><a class="page-link">2</a></li>
          <li class="page-item"><a class="page-link">&gt;</a></li>
          <li class="page-item"><a class="page-link">&raquo;</a></li>
        </ul>
      </div>

    </div>
  </div>
</div>

<!-- Detail Modal -->
<div class="modal fade" id="orderDetailModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered" style="max-width:520px;">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title fw-bold">주문 상세보기</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="mb-2"><span class="fw-semibold">주문 일시</span> <span id="detailOrderDate" class="ms-2"></span></div>
        <div class="mb-3"><span class="fw-semibold">직영점명</span> <span id="detailStoreName" class="ms-2"></span></div>

        <table class="table table-bordered text-center align-middle">
          <thead class="table-light">
          <tr><th>메뉴</th><th>사이즈</th><th>가격</th><th>수량</th><th>총 금액</th></tr>
          </thead>
          <tbody id="detailMenuList"></tbody>
        </table>

        <div class="text-end fw-bold">총 결제 금액 <span id="detailTotalPrice"></span></div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-warning" data-bs-dismiss="modal">닫기</button>
      </div>
    </div>
  </div>
</div>

<script>
  // detail data sample
  const sampleDetailData = {};
  for(let n=1; n<=10; n++){
    sampleDetailData[n] = {
      orderDate: "2025-11-18 13:25:00",
      storeName: "직영점 " + n,
      menus: [
        {name:"페퍼로니 피자", size:"라지", price:25000, qty:1},
        {name:"치즈 피자", size:"라지", price:20000, qty:2}
      ]
    };
  }

  let orderModal = new bootstrap.Modal(document.getElementById("orderDetailModal"));

  function openDetailModal(orderNo) {
    const data = sampleDetailData[orderNo];
    document.getElementById("detailOrderDate").innerText = data.orderDate;
    document.getElementById("detailStoreName").innerText = data.storeName;

    const list = document.getElementById("detailMenuList");
    list.innerHTML = "";
    let total = 0;

    data.menus.forEach(m => {
      const sum = m.price * m.qty;
      total += sum;
      list.innerHTML += `<tr><td>${m.name}</td><td>${m.size}</td><td>${m.price.toLocaleString()} 원</td><td>${m.qty}</td><td>${sum.toLocaleString()} 원</td></tr>`;
    });

    document.getElementById("detailTotalPrice").innerText = total.toLocaleString() + " 원";
    orderModal.show();
  }
</script>

</body>
</html>
